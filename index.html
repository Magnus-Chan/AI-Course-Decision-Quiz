<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFTE Course Recommender Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            /* Using the full raw GitHub URL for the background */
            background-image: url('https://raw.githubusercontent.com/Magnus-Chan/AI-Course-Decision-Quiz/main/images/CFTE5yrphoto.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        /* Adding a semi-transparent overlay to make the quiz card more readable */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Slightly darker for better contrast */
            z-index: -1;
        }
        .font-lora {
            font-family: 'Lora', serif;
        }
        .cfte-red {
            background-color: #A90C0F;
        }
        .cfte-red-text {
            color: #A90C0F;
        }
        .cfte-red-border {
            border-color: #A90C0F;
        }
        .quiz-container {
            transition: opacity 0.5s ease-in-out;
        }
        .question-card, .result-card {
            animation: fadeIn 0.7s ease-in-out;
        }
        .answer-option {
            transition: all 0.3s ease;
        }
        .answer-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #A90C0F;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quiz" class="w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
        
        <header class="cfte-red p-6 text-white text-center">
            <h1 class="text-3xl md:text-4xl font-lora font-bold">Find Your Perfect AI Course</h1>
            <p class="mt-2 text-base font-light">Let's find the programme that aligns with your professional goals.</p>
        </header>

        <main class="p-6 md:p-10 bg-gray-50">
            <!-- Quiz Questions -->
            <div id="quiz-screen" class="quiz-container">
                <div id="question-container" class="mb-6">
                    <!-- Question will be injected here -->
                </div>
                <div id="progress-container" class="flex items-center justify-between text-sm text-gray-500">
                    <span>Progress</span>
                    <div class="w-full mx-4 bg-gray-200 rounded-full h-2">
                        <div id="progress-bar" class="cfte-red h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <span id="progress-text">0%</span>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="hidden">
                <!-- Result will be injected here -->
            </div>
        </main>
    </div>

    <script>
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionContainer = document.getElementById('question-container');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        // --- QUIZ DATA ---
        const quizData = [
            {
                question: "What's your primary goal with AI?",
                answers: [
                    { text: "Lead AI strategy and make informed business decisions.", course: "aiLiteracy" },
                    { text: "Apply AI techniques to solve specific financial problems.", course: "aiFinance" },
                    { text: "Build and innovate with the latest generative AI models.", course: "genai360" }
                ]
            },
            {
                question: "Which of these topics excites you the most?",
                answers: [
                    { text: "The future of work and AI's impact on business models.", course: "aiLiteracy" },
                    { text: "Using AI for risk management, trading, and asset allocation.", course: "aiFinance" },
                    { text: "Fine-tuning Large Language Models (LLMs) and prompt engineering.", course: "genai360" }
                ]
            },
             {
                question: "When you think about implementing AI, what is your primary focus?",
                answers: [
                    { text: "Understanding the 'art of the possible' and identifying strategic opportunities.", course: "aiLiteracy" },
                    { text: "Optimising existing processes and creating efficiencies within my department.", course: "aiFinance" },
                    { text: "Developing new products and capabilities powered by AI.", course: "genai360" }
                ]
            },
            {
                question: "What outcome would make this course a success for you?",
                answers: [
                    { text: "Being able to confidently discuss AI strategy and trends.", course: "aiLiteracy" },
                    { text: "Being able to identify and implement AI use cases in finance.", course: "aiFinance" },
                    { text: "Being able to use generative AI tools to enhance innovation and productivity.", course: "genai360" }
                ]
            },
            {
                question: "What challenge are you most looking to solve with AI?",
                answers: [
                    { text: "Understanding opportunities and risks at a strategic level.", course: "aiLiteracy" },
                    { text: "Finding better ways to analyse data and make decisions.", course: "aiFinance" },
                    { text: "Enhancing creativity and innovation with AI-powered tools.", course: "genai360" }
                ]
            }
        ];
        
        // Using the correct full image URLs
        const courseResults = {
            genai360: {
                title: "Generative AI in Financial Services",
                description: "Your profile suggests a strong interest in the technical foundations and hands-on application of AI. This course will give you the deep, practical knowledge needed to build and innovate with generative models.",
                link: "https://courses.cfte.education/generative-ai-360-for-financial-services-online-course/",
                image: "https://raw.githubusercontent.com/Magnus-Chan/AI-Course-Decision-Quiz/main/images/course-genai.png" 
            },
            aiFinance: {
                title: "AI in Finance Specialisation",
                description: "You are focused on practical application within a specific, high-stakes domain. This specialisation is perfectly designed to bridge your financial expertise with cutting-edge AI techniques to drive value and innovation.",
                link: "https://courses.cfte.education/ai-in-finance-specialisation/",
                image: "https://raw.githubusercontent.com/Magnus-Chan/AI-Course-Decision-Quiz/main/images/course-aif.png"
            },
            aiLiteracy: {
                title: "AI Literacy for Professionals",
                description: "Your responses indicate a focus on strategy, leadership, and the 'big picture'. This programme is tailored to equip you with the essential knowledge to lead, make informed decisions, and drive AI strategy without getting lost in the technical weeds.",
                link: "https://courses.cfte.education/executive-ai-certification-level-1-foundation/",
                image: "https://raw.githubusercontent.com/Magnus-Chan/AI-Course-Decision-Quiz/main/images/course-ail.png"
            }
        };

        let currentQuestionIndex = 0;
        let scores = { genai360: 0, aiFinance: 0, aiLiteracy: 0 };
        const answerLabels = ['A', 'B', 'C'];

        function displayQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];
            questionContainer.innerHTML = `
                <div class="question-card">
                    <p class="text-sm cfte-red-text font-semibold mb-2">Question ${currentQuestionIndex + 1} of ${quizData.length}</p>
                    <h2 class="text-2xl md:text-3xl font-lora font-medium text-gray-900 mb-8">${currentQuestion.question}</h2>
                    <div class="space-y-4">
                        ${currentQuestion.answers.map((answer, index) => `
                            <button 
                                class="answer-option w-full text-left p-4 bg-white border-2 border-gray-200 rounded-lg flex items-center space-x-4"
                                onclick="selectAnswer('${answer.course}')"
                            >
                                <span class="flex-shrink-0 w-8 h-8 flex items-center justify-center cfte-red-border border-2 cfte-red-text font-bold rounded-md">${answerLabels[index]}</span>
                                <span class="text-gray-700">${answer.text}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            updateProgressBar();
        }

        function selectAnswer(course) {
            scores[course]++;
            currentQuestionIndex++;
            const questionCard = questionContainer.querySelector('.question-card');
            if (questionCard) {
                questionCard.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
                questionCard.style.opacity = '0';
                questionCard.style.transform = 'translateX(-30px)';
            }
            setTimeout(() => {
                if (currentQuestionIndex < quizData.length) {
                    displayQuestion();
                } else {
                    updateProgressBar(); // final update before showing result
                    showResult();
                }
            }, 300);
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${Math.round(progress)}%`;
        }
        
        function showResult() {
            let maxScore = -1;
            let resultCourse = '';
            // Tie-breaking: if scores are equal, default to a general course like aiLiteracy
            let topCourses = [];
            for (const course in scores) {
                if (scores[course] > maxScore) {
                    maxScore = scores[course];
                    topCourses = [course];
                } else if (scores[course] === maxScore) {
                    topCourses.push(course);
                }
            }
            
            if (topCourses.length > 1 && topCourses.includes('aiLiteracy')) {
                 resultCourse = 'aiLiteracy';
            } else if (topCourses.length > 1 && topCourses.includes('aiFinance')) {
                 resultCourse = 'aiFinance';
            }
             else {
                 resultCourse = topCourses[0];
            }


            const resultData = courseResults[resultCourse];
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            resultScreen.innerHTML = `
                <div class="result-card text-center">
                    <h2 class="font-lora text-xl text-gray-700 mb-2">Your Recommended Course Is:</h2>
                    <h3 class="text-3xl md:text-4xl font-bold font-lora cfte-red-text mb-6">${resultData.title}</h3>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <img src="${resultData.image}" alt="${resultData.title}" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <p class="text-gray-600 mb-6 text-base md:text-lg">${resultData.description}</p>
                            <a href="${resultData.link}" target="_blank" class="inline-block cfte-red hover:bg-red-900 text-white font-bold py-3 px-10 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg">
                                Learn More About This Course
                            </a>
                        </div>
                    </div>
                    <button id="restart-btn" class="mt-8 text-gray-500 hover:text-gray-800 font-semibold transition duration-300">
                        Or Retake the Quiz
                    </button>
                </div>
            `;

            document.getElementById('restart-btn').addEventListener('click', () => {
                currentQuestionIndex = 0;
                scores = { genai360: 0, aiFinance: 0, aiLiteracy: 0 };
                resultScreen.classList.add('hidden');
                resultScreen.innerHTML = ''; // Clear the results
                quizScreen.classList.remove('hidden');
                displayQuestion();
            });
        }

        // Start the quiz as soon as the page loads
        displayQuestion();
    </script>
</body>
</html>
